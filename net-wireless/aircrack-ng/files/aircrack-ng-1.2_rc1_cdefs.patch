--- a/src/include/ethernet.h	2008-02-26 18:12:19.000000000 +0000
+++ b/src/include/ethernet.h	2016-06-22 22:32:58.724851027 +0000
@@ -389,18 +389,20 @@ void	ether_vlan_mtap(struct bpf_if *, st
 
 #else /* _KERNEL */
 
-#include <sys/cdefs.h>
-
 /*
  * Ethernet address conversion/parsing routines.
  */
-__BEGIN_DECLS
+#ifdef __cplusplus
+extern "C" {
+#endif
 struct	ether_addr *ether_aton(const char *);
 int	ether_hostton(const char *, struct ether_addr *);
 int	ether_line(const char *, struct ether_addr *, char *);
 char 	*ether_ntoa(const struct ether_addr *);
 int	ether_ntohost(char *, const struct ether_addr *);
-__END_DECLS
+#ifdef __cplusplus
+}
+#endif
 
 #endif /* !_KERNEL */
 
